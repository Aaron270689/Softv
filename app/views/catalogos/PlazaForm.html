<style type="text/css">
    .table-scroll {
        height:200px;
        overflow:auto;  
        margin-top:20px;
    }
</style>
<form  name="FormPlaza" angular-validator-submit="$ctrl.SavePlaza()" novalidate angular-validator autocomplete="off">
<div class="card animated fadeIn" style="margin-top:20px;">
    <div class="card-head style-default-light" style="padding-top:10px; padding-left:10px;">
        <header>
            <strong style="font-weight:bold; border:none; margin-left:10px;">{{ $ctrl.Titulo }}</strong>
            <br>
            <small class="text-muted" style="font-size:14px; margin-left:10px;">
                <a href="#"><i class="fa fa-home" aria-hidden="true"></i> Inicio</a>><a href="#" class="paginaActiva">{{ $ctrl.Titulo }}</a>
            </small>
        </header>
        <div class="tools">
            <button type="submit" class="btn btn-primary btn-sm" title="Guardar Plaza">Guardar</button>
			<button type="button" class="btn btn-default-bright btn-sm" ui-sref="home.catalogos.plazas" title="Cancelar cambios">Cancelar</button>
		</div>
    </div>
    <div class="card-body">
            <uib-tabset active="active">
                <uib-tab index="0">
                    <uib-tab-heading>
                        Datos de la Plaza
                    </uib-tab-heading>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <b><small>Distribuidor:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>Nombre de la Plaza:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>Calle:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>Entre calles:</small></b>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <select name="SltDistribuidor" class="form-control input-sm" ng-model="$ctrl.Distribuidor" ng-options="D.Nombre for D in $ctrl.DistribuidorList track by D.IdDistribuidor" validate-on="dirty" required required-message="'Obligatorio'">
                                    <option value="">Selecciona</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <input name="InpPlaza" type="text" class="form-control input-sm" ng-model="$ctrl.Plaza" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpCalle" type="text" class="form-control input-sm" ng-model="$ctrl.Calle" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpCalles" type="text" class="form-control input-sm" ng-model="$ctrl.Calles" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-2">
                                <b><small>Número Exterior:</small></b>
                            </div>
                            <div class="col-md-2">
                                <b><small>Número Interior:</small></b>
                            </div>
                            <div class="col-md-2">
                                <b><small>Código Postal:</small></b>
                            </div>
                            <div class="col-md-6">
                                <b><small>Colonia:</small></b>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-2">
                                <input name="InpNumExt" type="text" class="form-control input-sm" ng-model="$ctrl.NumExt" maxlength="6" validate-on="dirty" required required-message="'Obligatorio'" invalid-message="'Inválido, Ingresa 6 dígitos.'">
                            </div>
                            <div class="col-md-2">
                                <input name="InpNumInt" type="text" class="form-control input-sm" ng-model="$ctrl.NumInt" maxlength="6" invalid-message="'Inválido, Ingresa 6 dígitos.'">
                            </div>
                            <div class="col-md-2">
                                <input name="InpCP" type="text" class="form-control input-sm" ng-model="$ctrl.CP" maxlength="5" ng-pattern="/^\d{5}$/" validate-on="dirty" required required-message="'Obligatorio'" invalid-message="'Inválido, Ingresa 5 dígitos.'">
                            </div>
                            <div class="col-md-6">
                                <input name="InpColonia" type="text" class="form-control input-sm" ng-model="$ctrl.Colonia" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <b><small>Localidad:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>Municipio:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>Estado:</small></b>
                            </div>
                            <div class="col-md-3">
                                <b><small>País:</small></b>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <input name="InpLocalidad" type="text" class="form-control input-sm" ng-model="$ctrl.Localidad" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpMunicipio" type="text" class="form-control input-sm" ng-model="$ctrl.Municipio" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpEstado" type="text" class="form-control input-sm" ng-model="$ctrl.Estado" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpPais" type="text" class="form-control input-sm" ng-model="$ctrl.Pais" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-4">
                                <b><small>Teléfono 1:</small></b>
                            </div>
                            <div class="col-md-4">
                                <b><small>Teléfono 2:</small></b>
                            </div>
                            <div class="col-md-4">
                                <b><small>Fax:</small></b>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-4">
                                <input name="InpTelefono" type="text" class="form-control input-sm" ng-model="$ctrl.Telefono" maxlength="10" ng-pattern="/^\d{10}$/" validate-on="dirty" required required-message="'Obligatorio'" invalid-message="'Inválido, Ingresa 10 dígitos.'">
                            </div>
                            <div class="col-md-4">
                                <input name="InpTelefono2" type="text" class="form-control input-sm" ng-model="$ctrl.Telefono2" maxlength="10" ng-pattern="/^\d{10}$/" invalid-message="'Inválido, Ingresa 10 dígitos.'">
                            </div>
                            <div class="col-md-4">
                                <input name="InpFax" type="text" class="form-control input-sm" ng-model="$ctrl.Fax" maxlength="10" ng-pattern="/^\d{10}$/" invalid-message="'Inválido, Ingresa 10 dígitos.'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <b><small>Email:</small></b>
                            </div>
                            <div class="col-md-6">
                                <b><small>Contacto:</small></b>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <input name="InpEmail" type="email" class="form-control input-sm" ng-model="$ctrl.Email" validate-on="dirty" required required-message="'Obligatorio'" invalid-message="'Inválido.'">
                            </div>
                            <div class="col-md-6">
                                <input name="InpContacto" type="text" class="form-control input-sm" ng-model="$ctrl.Contacto" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <footer>
                        <p class="text-right"></p>
                    </footer>
                </uib-tab>
                <uib-tab index="1">
                    <uib-tab-heading>
                        Datos de Almacén
                    </uib-tab-heading>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <p><b><small>Calle:</small></b></p>
                            </div>
                            <div class="col-md-3">
                                <p><b><small>Número:</small></b></p>
                            </div>
                            <div class="col-md-3">
                                <p><b><small>CP:</small></b></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <input name="InpCalleAlm" type="text" class="form-control input-sm" ng-model="$ctrl.CalleAlm" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpNumeroAlm" type="text" class="form-control input-sm" ng-model="$ctrl.NumeroALm"  maxlength="6" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-3">
                                <input name="InpCPALm" type="text" class="form-control input-sm" ng-model="$ctrl.CPAlm"  maxlength="5" ng-pattern="/^\d{5}$/" validate-on="dirty" required required-message="'Obligatorio'" invalid-message="'Inválido, Ingresa 5 dígitos.'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <p><b><small>Colonia:</small></b></p>
                            </div>
                            <div class="col-md-6">
                                <p><b><small>Localidad:</small></b></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <input name="InpColoniaAlm" type="text" class="form-control input-sm" ng-model="$ctrl.ColoniaALm" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-6">
                                <input name="InpLocalidadAlm" type="text" class="form-control input-sm" ng-model="$ctrl.LocalidadAlm" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <p><b><small>Municipio:</small></b></p>
                            </div>
                            <div class="col-md-6">
                                <p><b><small>Estado:</small></b></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <input name="InpMunicipioAlm" type="text" class="form-control input-sm" ng-model="$ctrl.MunicipoAlm" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                            <div class="col-md-6">
                                <input name="InpEstadoAlm" type="text" class="form-control input-sm" ng-model="$ctrl.EstadoAlm" validate-on="dirty" required required-message="'Obligatorio'">
                            </div>
                        </div>
                    </div>
                    <footer>
                        <p class="text-right"></p>
                    </footer>
                </uib-tab>
                <uib-tab index="2">
                    <uib-tab-heading>
                        Ciudades asociadas a la Plaza
                    </uib-tab-heading>
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-5">
                                <p><b><small>Estado:</small></b></p>
                            </div>
                            <div class="col-md-5">
                                <p><b><small>Ciudades:</small></b></p>
                            </div>
                            <div class="col-md-5">
                                <p><b><small></small></b></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-5">
                                <select name="SltEstadoPla" type="text" class="form-control input-sm" ng-model="$ctrl.EstadoPla" ng-options="E.Nombre for E in  $ctrl.EstadoList track by E.IdEstado" ng-change="$ctrl.GetCiudadMunicipio()">
                                    <option value="">Selecciona</option>
                                </select>
                            </div>
                            <div class="col-md-5">
                                <select name="SltCiudadPla" type="text" class="form-control input-sm" ng-model="$ctrl.CiudadPla" ng-options="M.Municipio.Nombre for M in $ctrl.CiudadMunicipioList track by M.Municipio.IdMunicipio">
                                    <option value="">Selecciona</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button type="button" class="btn btn-success bt-xs" title="Agregar Ciudad" ng-click="$ctrl.AddRelEstMun()">Agregar</button>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-12 table-scroll">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th width="45%"><b>Estado</b></th>
                                            <th width="45%"><b>Ciudad</b></th>
                                            <th width="10%"><b>Acciones</b></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="X in $ctrl.RelEstMunViewList">
                                            <td>{{ X.Estado }}</td>
                                            <td>{{ X.Municipio }}</td>
                                            <td><button type="button" class="btn btn-danger btn-xs" title="Eliminar Ciudad" ng-click="$ctrl.DeleteRelEstMun(X)">Eliminar</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <br>
                            </div>
                        </div>
                    </div>
                    <footer>
                        <p class="text-right"></p>
                    </footer>
                </uib-tab>
            </uib-tabset>
    </div>
</div>
</form>